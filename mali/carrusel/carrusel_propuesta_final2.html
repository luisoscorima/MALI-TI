<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Carrusel MALI</title>
<style>
	@import url("https://api.fontshare.com/v2/css?f[]=archivo@100,200,300,400,500,600,700,800,900&f[]=clash-display@200,300,400,500,600,700&display=swap");

	:root {
		/* Base y escala del contenido (no afecta al fondo) */
		--slide-width-base: min(30vw, 300px);
		--content-scale: 0.7; /* reduce solo el contenido ~70% */
		--slide-width: calc(var(--slide-width-base) * var(--content-scale));
		--slide-aspect: 9/16;
		--slide-transition-duration: 800ms;
		--slide-transition-easing: ease;

		/* Separación para que header/footer no se superpongan al carrusel */
		--header-gap: 40px;
		--footer-gap: 36px;

		--font-archivo: "Archivo", sans-serif;
		--font-clash-display: "Clash Display", sans-serif;
	}

	* {
		box-sizing: border-box;
		margin: 0;
		padding: 0;
	}

	html,
	body {
		width: 100%;
		height: auto;
	}

	body {
		display: block; /* evitar centrado vertical en iframes cuadrados */
		overflow: hidden;
		background: rgba(0, 0, 0, 0.787);
	}

	button {
		border: none;
		background: none;
		cursor: pointer;
		&:focus {
			outline: none;
			border: none;
		}
	}
	/* -------------------- SLIDER -------------------- */
	.slider {
		width: calc(3 * var(--slide-width));
		height: auto; /* Altura flexible: imágenes de distintos tamaños */
		display: flex;
		align-items: center;
		margin-inline: auto; /* centrar horizontalmente */
		margin-top: var(--header-gap);
		margin-bottom: var(--footer-gap);
	}

	.slider--btn {
		--size: 40px;

		display: inline-flex;
		justify-content: center;
		align-items: center;
		opacity: 0.7;
		transition: opacity 250ms cubic-bezier(0.215, 0.61, 0.355, 1);
		z-index: 999;

		& svg {
			width: var(--size);
			height: var(--size);
			stroke: white;
		}

		&:hover {
			opacity: 1;
		}
	}

	.slides__wrapper {
		margin-top: 0; /* No empujamos hacia el header */
		width: 100%;
		height: 100%;

		display: grid;
		place-items: center;

		& > * {
			grid-area: 1 / -1;
		}
	}

	/* -------------------- HEADER/TÍTULO -------------------- */
	.header-title {
		position: fixed;
		top: 6px;
		left: 50%;
		transform: translateX(-50%);
		z-index: 500;
		pointer-events: none; /* el título no intercepta clics */
		color: #fff;
		font-family: var(--font-clash-display);
		font-weight: 800;
		letter-spacing: 0.06em;
		text-align: center;
		text-shadow: 0 2px 6px rgba(0,0,0,0.35);
		font-size: clamp(1rem, 2.4vw, 2rem);
		padding: 4px 10px;
	}

	/* -------------------- FOOTER/ENLACES -------------------- */
	.footer-links {
		position: fixed;
		bottom: 6px;
		left: 50%;
		transform: translateX(-50%);
		z-index: 600;
		color: #ddd;
		font-family: var(--font-archivo);
		font-size: clamp(0.75rem, 1.2vw, 0.95rem);
		text-align: center;
		max-width: min(90vw, 920px);
		line-height: 1.35;
		padding: 6px 10px;
		background: rgba(0,0,0,0.35);
		border-radius: 8px;
	}

	@media (max-width: 768px) {
		.footer-links {
			width: max-content;
			position: relative;
			bottom: 0px !important; /* Evita conflicto con créditos verticales */
		}
	}

	.footer-links a {
		color: #fff;
		text-decoration: underline;
		text-underline-offset: 3px;
	}

	.footer-links a:hover {
		text-decoration-thickness: 2px;
	}

	/* -------------------- CRÉDITOS VERTICALES -------------------- */
	.credits-vertical {
		position: fixed;
		right: 8px;
		top: 50%;
		transform: translateY(-50%);
		writing-mode: vertical-rl;
		text-orientation: mixed;
		font-family: var(--font-archivo);
		font-size: 12px;
		letter-spacing: 0.08em;
		color: #aaa;
		opacity: 0.2;
		user-select: none;
		pointer-events: none;
		z-index: 650;
	}

	.slides,
	.slides--infos {
		width: 100%;
		height: 100%;

		pointer-events: none;

		display: grid;
		place-items: center;
		& > * {
			grid-area: 1 / -1;
		}
	}

	/* -------------------- SLIDE --------------------- */

	.slide {
		--slide-tx: 0px;
		--slide-ty: 0vh;
		--padding: 0px;
		--offset: 0;

		width: var(--slide-width);
		height: auto;
		aspect-ratio: var(--slide-aspect);
		user-select: none;
		perspective: 800px;

		transform: perspective(1000px)
			translate3d(var(--slide-tx), var(--slide-ty), var(--slide-tz, 0))
			rotateY(var(--slide-rotY)) scale(var(--slide-scale));
		transition: transform var(--slide-transition-duration)
			var(--slide-transition-easing);
	}

	.slide[data-current] {
		--slide-scale: 1.2;
		--slide-tz: 0px;
		--slide-tx: 0px;
		--slide-rotY: 0;
		z-index: 30;

		pointer-events: auto;
	}

	.slide[data-next] {
		--slide-tx: calc(1 * var(--slide-width) * 1.3);
		--slide-rotY: -45deg;
		z-index: 10;

	}

	.slide[data-previous] {
		--slide-tx: calc(-1 * var(--slide-width) * 1.3);
		--slide-rotY: 45deg;
		z-index: 10;

	}

	.slide:not([data-current]) {
		--slide-scale: 1;
		--slide-tz: 0;
		/* --slide-tx: calc(var(--offset) * var(--slide-width) * 1.05); */
		/* --slide-rotY: calc(var(--dir) * -45deg); */

		pointer-events: none;
	}

	.slide[data-current] {
		& .slide--image {
			filter: brightness(0.8);
			overflow: visible;
		}
	}

	.slide:not([data-current]) {
		& .slide--image {
			filter: brightness(0.5);
			overflow: hidden;
		}
	}

	.slide:not([data-current]):not([data-next]):not([data-previous]) {
		opacity: 0;
		pointer-events: none;
	}

	.slide__inner {
		--rotX: 0;
		--rotY: 0;
		--bgPosX: 0%;
		--bgPosY: 0%;

		position: relative;
		left: calc(var(--padding) / 2);
		top: calc(var(--padding) / 2);
		width: calc(100% - var(--padding));
		height: calc(100% - var(--padding));
		transform-style: preserve-3d;
		transform: rotateX(var(--rotX)) rotateY(var(--rotY));
	}

	.slide--image__wrapper {
		position: relative;
		width: 100%;
		height: 100%;
		object-fit: contain;
	}

	.slide--image {
		width: 100%;
		height: 100%;
		object-fit: contain; /* Asegura que la imagen se muestra completa sin recortes */
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%) scale(1.25)
			translate3d(var(--bgPosX), var(--bgPosY), 0);
		transition: filter var(--slide-transition-duration)
			var(--slide-transition-easing);
	}

	.slide__bg {
		position: fixed;
		inset: -20%;
		background-image: var(--bg);
		background-size: cover;
		background-position: center center;

		z-index: -1;
		pointer-events: none;

		transition: opacity var(--slide-transition-duration) ease,
			transform var(--slide-transition-duration) ease;

		&::before {
			content: "";
			position: absolute;
			inset: 0;
		}

		&::before {
			background: rgba(0, 0, 0, 0.8);
			backdrop-filter: blur(8px);
		}

		&:not([data-current]) {
			opacity: 0;
		}

		&[data-previous] {
			transform: translateX(-10%);
		}

		&[data-next] {
			transform: translateX(10%);
		}
	}

	/* ------------ SLIDE INFO ---------------- */

	.slide-info {
		--padding: 0px;
		position: relative;
		width: calc(500px * var(--content-scale));
		height: 100%;
		aspect-ratio: var(--slide-aspect);
		user-select: none;
		perspective: 800px;
		z-index: 100;
	}

	.slide-info[data-current] {
		& .slide-info--text span {
			opacity: 1;
			transform: translate3d(0, 0, 0);
			transition-delay: 250ms;
			display: block; /* En lugar de inline-block */
		}
	}

	.slide-info:not([data-current]) {
		& .slide-info--text span {
			opacity: 0;
			transform: translate3d(0, 100%, 0);
			transition-delay: 0ms;
		}
	}

	.slide-info__inner {
		position: relative;
		left: calc(var(--padding) / 2);
		top: calc(var(--padding) / 2);
		width: calc(100% - var(--padding));
		height: calc(100% - var(--padding));
		transform-style: preserve-3d;
		transform: rotateX(var(--rotX)) rotateY(var(--rotY));
	}

	.slide-info--text__wrapper {
		--z-offset: 45px;
		position: absolute;
		width: 200%;
			bottom: 14%;
		left: 50%;
		transform: translate(-50%, 0) translateZ(var(--z-offset));
		text-align: center;
		z-index: 2;
		pointer-events: none;
	}

	/* Ajustes para aspect ratios más cuadrados (<= 4:3) */
	@media (max-aspect-ratio: 4/3) {
		:root {
			--header-gap: clamp(0px, 0vh, 0px);
			--footer-gap: clamp(0px, 0vh, 0px);
		}
		.slide-info--text__wrapper { bottom: 12%; }
	}

	.slide-info--text {
		font-family: var(--font-clash-display);
		color: #fff;
		overflow: hidden; /* Esconde el texto sobrante */
		text-align: center;
		width: 100%; /* Ajusta según el diseño */
		max-width: 100%; /* Asegura un ancho controlado */

		& span {
			transition: var(--slide-transition-duration) var(--slide-transition-easing);
			transition-property: opacity, transform;
		}

		&[data-title],
		&[data-subtitle] {
			font-size: min(3cqw, 2.4rem);
			font-weight: 800;
			letter-spacing: 0.2cqw;
			overflow: hidden;
			white-space: normal;
			max-width: 100%; /* Ajusta según el diseño */
			display: block;
		}

		&[data-subtitle] {
			margin-left: 2cqw; /* Ajusta el margen izquierdo */
			font-size: min(2.2cqw, 1.8rem);
			font-weight: 600;
		}

		&[data-description] {
			font-size: min(1.5cqw, 0.95rem);
			font-family: var(--font-archivo);
			font-weight: 300;
		}
	}

	/* -------------------- LOADER --------------------- */

	.loader {
		position: fixed;
		inset: 0;

		display: grid;
		place-items: center;

		background: #000;
		z-index: 1000;

		opacity: 1;
		transition: opacity 0.5s ease-out;

		.loader__text {
			font-family: var(--font-clash-display);
			font-size: clamp(2rem, 2vw, 5rem);
			font-weight: 800;
			color: #fff;
		}
	}

	/* ------------------------------------------- */

	.explora-text {
		font-size: min(4cqw, 3rem); /* Ajusta el tamaño sin afectar otros textos */
		font-weight: 800;
		text-align: center;
		color: #fff;
		display: block;
		max-width: 100%;
		white-space: normal;
		margin-top: 200%;
		line-height: 1000%; /* Ajusta la altura de línea para evitar cortes */
		padding-top: 20px; /* Ajusta este valor si sigue cortado */
	}

	@media (max-width: 768px) {
	/* En móviles: escala de contenido 0.7 y base más compacta por viewport */
	:root {
		--content-scale: 0.7;
		--slide-width-base: 30vw;
		/* Gaps algo más pequeños en móviles */
		--header-gap: clamp(0px, 0vh, 0px);
		--footer-gap: clamp(0px, 0vh, 0px);
	}

	/* Oculta créditos verticales en móviles para no estorbar */
	.credits-vertical { display: none; }

	.slide-info {
		width: 90%;
		font-size: 0.9rem;
	}

	.slider--btn {
		--size: 30px;
	}
	}
</style>
</head>

<body>
	<div class="header-title">CONOCE NUESTRAS ÚLTIMAS ADQUISICIONES</div>
	<div class="credits-vertical">Powered by: Luis Gustavo O. P.</div>
	<div class="slider">
		<button class="slider--btn slider--btn__prev">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
				<path d="m15 18-6-6 6-6" />
			</svg>
		</button>
	
		<div class="slides__wrapper">
<!---------------- CONTENEDOR DE CADA SLIDE -------------------->
			<div class="slides">
				<!-- Item 1 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19740">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Historias-indigenas.-2023.jpg" alt="Histórias indígenas" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Historias-indigenas.-2023.jpg); --dir: 0"></div>

				<!-- Item 2 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19687">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Reconsidering-the-Chavin-Phenomenon-in-the-Twenty-First-Century.-2023.jpg" alt="Reconsidering the Chavín Phenomenon in the Twenty-First Century" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Reconsidering-the-Chavin-Phenomenon-in-the-Twenty-First-Century.-2023.jpg); --dir: 0"></div>

				<!-- Item 3 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19725">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/The-Image-of-the-Black-in-Latin-American-and-Caribbean-Art-Book-1-From-Colony-to-Nation-2023.jpg" alt="The Image of the Black in Latin American and Caribbean Art, Book 1: From Colony to Nation" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/The-Image-of-the-Black-in-Latin-American-and-Caribbean-Art-Book-1-From-Colony-to-Nation-2023.jpg); --dir: 0"></div>

				<!-- Item 4 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19726">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/The-Image-of-the-Black-in-Latin-American-and-Caribbean-Art-Book-2-The-Modern-World-2023.jpg" alt="The Image of the Black in Latin American and Caribbean Art, Book 2: The Modern World" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/The-Image-of-the-Black-in-Latin-American-and-Caribbean-Art-Book-2-The-Modern-World-2023.jpg); --dir: 0"></div>

				<!-- Item 5 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19701">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Huellas-de-la-luz.-El-arte-y-los-experimentos-de-William-Henry-Fox-Talbot.-2001.jpg" alt="Huellas de la luz. El arte y los experimentos de William Henry Fox Talbot." />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Huellas-de-la-luz.-El-arte-y-los-experimentos-de-William-Henry-Fox-Talbot.-2001.jpg); --dir: 0"></div>

				<!-- Item 6 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19703">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Pavlovich-Kondakov-Nikodim-Iconos.-2006.jpg" alt="Íconos" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Pavlovich-Kondakov-Nikodim-Iconos.-2006.jpg); --dir: 0"></div>

				<!-- Item 7 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19685">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Villacorta-Jorge-ed.-Mariella-Agois.-Sistemas-geometricos.-2024.jpg" alt="Mariella Agois. Sistemas geométricos." />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Villacorta-Jorge-ed.-Mariella-Agois.-Sistemas-geometricos.-2024.jpg); --dir: 0"></div>

				<!-- Item 8 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19686">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Wuffarden-Luis-Eduardo.-Suenos-de-la-razon-David-Herskovitz-.-2024.jpg" alt="Sueños de la razón: David Herskovitz" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Wuffarden-Luis-Eduardo.-Suenos-de-la-razon-David-Herskovitz-.-2024.jpg); --dir: 0"></div>

				<!-- Item 9 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19644">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Cherchi-Usai-Paolo-eds.-The-Art-of-Film-Projection-A-Beginners-Guide.2019.jpg" alt="The Art of Film Projection: A Beginner's Guide" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Cherchi-Usai-Paolo-eds.-The-Art-of-Film-Projection-A-Beginners-Guide.2019.jpg); --dir: 0"></div>

				<!-- Item 10 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19645">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Quiros-Romero-Juan-Manuel.-Recuperando-la-identidad-de-un-pueblo-en-el-Peru-el-caso-de-la-familia-Mejia-Maldonado-de-Huaraz.-2022.jpg" alt="Recuperando la identidad de un pueblo en el Perú: el caso de la familia Mejía-Maldonado de Huaraz" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Quiros-Romero-Juan-Manuel.-Recuperando-la-identidad-de-un-pueblo-en-el-Peru-el-caso-de-la-familia-Mejia-Maldonado-de-Huaraz.-2022.jpg); --dir: 0"></div>

				<!-- Item 11 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19646">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Biskupovic-Martinez-Ignacia-eds.-Mirada-de-barrio.-Arte-y-participacion-colectiva-para-imaginar-territorios-y-comunidades-.-2022.jpg" alt="Mirada de barrio. Arte y participación colectiva para imaginar territorios y comunidades" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Biskupovic-Martinez-Ignacia-eds.-Mirada-de-barrio.-Arte-y-participacion-colectiva-para-imaginar-territorios-y-comunidades-.-2022.jpg); --dir: 0"></div>

				<!-- Item 12 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19568">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Navarrete-Prieto-Benito.-Murillo-y-las-metaforas-de-la-imagen.-2017.jpg" alt="Murillo y las metáforas de la imagen" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Navarrete-Prieto-Benito.-Murillo-y-las-metaforas-de-la-imagen.-2017.jpg); --dir: 0"></div>

				<!-- Item 13 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19588">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Gaona-Guadalupe-Coord.-La-fotografia-en-los-museos-nacionales-guia-para-su-difusion-y-acceso-.-2023.jpg" alt="La fotografía en los museos nacionales: guía para su difusión y acceso" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Gaona-Guadalupe-Coord.-La-fotografia-en-los-museos-nacionales-guia-para-su-difusion-y-acceso-.-2023.jpg); --dir: 0"></div>

				<!-- Item 14 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19567">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Bonnefoy-Francoise-ed.-Tapies.-1994.jpg" alt="Tàpies" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Bonnefoy-Francoise-ed.-Tapies.-1994.jpg); --dir: 0"></div>

				<!-- Item 15 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19593">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Di-Meglio-Gabriel.-Los-80.-El-Rock-en-la-calle.-2022.jpg" alt="Los 80. El Rock en la calle" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Di-Meglio-Gabriel.-Los-80.-El-Rock-en-la-calle.-2022.jpg); --dir: 0"></div>

				<!-- Item 16 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19596">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Gutierrez-Samanez-Julio-Antonio-Compilacion-ensayos-y-notas.-Apologetico-en-favor-de-Clorinda-Matto-de-Turner.-2018.jpg" alt="Apologético en favor de Clorinda Matto de Turner" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Gutierrez-Samanez-Julio-Antonio-Compilacion-ensayos-y-notas.-Apologetico-en-favor-de-Clorinda-Matto-de-Turner.-2018.jpg); --dir: 0"></div>

				<!-- Item 17 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19595">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Gutierrez-Loayza-Julio-Genaro.-Sesenta-anos-de-arte-en-el-Qosqo-1927-1988.-Ensayos-articulos-y-comentarios.-2022.jpg" alt="Sesenta años de arte en el Qosqo (1927-1988). Ensayos, artículos y comentarios" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Gutierrez-Loayza-Julio-Genaro.-Sesenta-anos-de-arte-en-el-Qosqo-1927-1988.-Ensayos-articulos-y-comentarios.-2022.jpg); --dir: 0"></div>

				<!-- Item 18 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19580">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Holger-Lena.-Artists-of-the-Ateneum-Helene-Schjerfbeck-.-2019.jpg" alt="Artists of the Ateneum - Helene Schjerfbeck" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Holger-Lena.-Artists-of-the-Ateneum-Helene-Schjerfbeck-.-2019.jpg); --dir: 0"></div>

				<!-- Item 19 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19578">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Marrero-Antonio.-El-arte-del-retorno.-Retroalimentacion-artistica-e-historia-cultural-en-el-ambito-atlantico-siglo-XVI-XIX.-2021.jpg" alt="El arte del retorno. Retroalimentación artística e historia cultural en el ámbito atlántico (siglo XVI - XIX)" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Marrero-Antonio.-El-arte-del-retorno.-Retroalimentacion-artistica-e-historia-cultural-en-el-ambito-atlantico-siglo-XVI-XIX.-2021.jpg); --dir: 0"></div>

				<!-- Item 20 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19579">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Velasco-Herrera-Viviana-Coord.-Tejer-Republica-Historia-memorias-y-visualidades-a-200-anos-de-la-Batalla-de-Pichincha.-2022.jpg" alt="Tejer República: Historia, memorias y visualidades a 200 años de la Batalla de Pichincha" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Velasco-Herrera-Viviana-Coord.-Tejer-Republica-Historia-memorias-y-visualidades-a-200-anos-de-la-Batalla-de-Pichincha.-2022.jpg); --dir: 0"></div>

				<!-- Item 21 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19591">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Lopez-Miguel-A.-Santiago-Yahuarcani.-2023.jpg" alt="Santiago Yahuarcani" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Lopez-Miguel-A.-Santiago-Yahuarcani.-2023.jpg); --dir: 0"></div>

				<!-- Item 22 -->
				<div class="slide">
					<div class="slide__inner">
						<div class="slide--image__wrapper">
							<a href="http://mali.pe/cgi-bin/koha/opac-detail.pl?biblionumber=19565">
								<img class="slide--image" src="https://mali.pe/wp-content/uploads/2024/09/Bonar-Eulalie-H.-Woven-by-the-Grandmothers-Nineteenth-Century-Navajo-Textiles-from-the-National-Museum-of-the-American-Indian.-1996.jpg" alt="Woven by the Grandmothers: Nineteenth-Century Navajo Textiles from the National Museum of the American Indian" />
							</a>
						</div>
					</div>
				</div>
				<div class="slide__bg" style="--bg: url(https://mali.pe/wp-content/uploads/2024/09/Bonar-Eulalie-H.-Woven-by-the-Grandmothers-Nineteenth-Century-Navajo-Textiles-from-the-National-Museum-of-the-American-Indian.-1996.jpg); --dir: 0"></div>
			</div> <!-- Fin del contenedor -->

<!---------------- CONTENEDOR DE LA INFORMACIÓN DE CADA SLIDE -------------------->
			<div class="slides--infos">
				<!-- Info 1 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Histórias indígenas</span></div>
							<div data-subtitle class="slide-info--text"><span>Pedrosa, Adriano [et al].</span></div>
							<div data-description class="slide-info--text"><span>Pedrosa, Adriano [et al]. <i>Histórias indígenas.</i> 2023.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 2 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Reconsidering the Chavín Phenomenon in the Twenty-First Century</span></div>
							<div data-subtitle class="slide-info--text"><span>Burger, Richard L. [ed].</span></div>
							<div data-description class="slide-info--text"><span>Burger, Richard L. [ed]. <i>Reconsidering the Chavín Phenomenon in the Twenty-First Century.</i> 2023.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 3 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>The Image of the Black in Latin American and Caribbean Art, Book 1: From Colony to Nation</span></div>
							<div data-subtitle class="slide-info--text"><span>Bindman, David [et al.]</span></div>
							<div data-description class="slide-info--text"><span>Bindman, David [et al.] <i>The Image of the Black in Latin American and Caribbean Art, Book 1: From Colony to Nation</i> 2023.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 4 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>The Image of the Black in Latin American and Caribbean Art, Book 2: The Modern World</span></div>
							<div data-subtitle class="slide-info--text"><span>Bindman, David [et al.]</span></div>
							<div data-description class="slide-info--text"><span>Bindman, David [et al.] <i>The Image of the Black in Latin American and Caribbean Art, Book 2: The Modern World</i> 2023.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 5 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Huellas de la luz. El arte y los experimentos de William Henry Fox Talbot</span></div>
							<div data-subtitle class="slide-info--text"><span></span></div>
							<div data-description class="slide-info--text"><span><i>Huellas de la luz. El arte y los experimentos de William Henry Fox Talbot.</i> 2001.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 6 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Íconos</span></div>
							<div data-subtitle class="slide-info--text"><span>Pavlovich Kondakov, Nikodim</span></div>
							<div data-description class="slide-info--text"><span>Pavlovich Kondakov, Nikodim <i>Íconos.</i> 2006.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 7 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Mariella Agois. Sistemas geométricos</span></div>
							<div data-subtitle class="slide-info--text"><span>Villacorta, Jorge [ed.]</span></div>
							<div data-description class="slide-info--text"><span>Villacorta, Jorge [ed.]. <i>Mariella Agois. Sistemas geométricos.</i> 2024.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 8 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Sueños de la razón: David Herskovitz</span></div>
							<div data-subtitle class="slide-info--text"><span>Wuffarden, Luis Eduardo.</span></div>
							<div data-description class="slide-info--text"><span>Wuffarden, Luis Eduardo. <i>Sueños de la razón: David Herskovitz.</i> 2024.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 9 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>The Art of Film Projection: A Beginner's Guide</span></div>
							<div data-subtitle class="slide-info--text"><span>Cherchi Usai, Paolo [eds.]</span></div>
							<div data-description class="slide-info--text"><span>Cherchi Usai, Paolo [eds.]. <i>The Art of Film Projection: A Beginner's Guide.</i> 2019.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 10 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Recuperando la identidad de un pueblo en el Perú: el caso de la familia Mejía-Maldonado de Huaraz</span></div>
							<div data-subtitle class="slide-info--text"><span>Quirós Romero, Juan Manuel.</span></div>
							<div data-description class="slide-info--text"><span>Quirós Romero, Juan Manuel. <i>Recuperando la identidad de un pueblo en el Perú: el caso de la familia Mejía-Maldonado de Huaraz.</i> 2022.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 11 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Mirada de barrio. Arte y participación colectiva para imaginar territorios y comunidades</span></div>
							<div data-subtitle class="slide-info--text"><span>Biskupovic Martínez, Ignacia [eds.]</span></div>
							<div data-description class="slide-info--text"><span>Biskupovic Martínez, Ignacia [eds.]. <i>Mirada de barrio. Arte y participación colectiva para imaginar territorios y comunidades.</i> 2022.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 12 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Murillo y las metáforas de la imagen</span></div>
							<div data-subtitle class="slide-info--text"><span>Navarrete Prieto, Benito.</span></div>
							<div data-description class="slide-info--text"><span>Navarrete Prieto, Benito. <i>Murillo y las metáforas de la imagen.</i> 2017.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 13 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>La fotografía en los museos nacionales: guía para su difusión y acceso</span></div>
							<div data-subtitle class="slide-info--text"><span>Gaona, Guadalupe [Coord.]</span></div>
							<div data-description class="slide-info--text"><span>Gaona, Guadalupe [Coord.]. <i>La fotografía en los museos nacionales: guía para su difusión y acceso.</i> 2023.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 14 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Tàpies</span></div>
							<div data-subtitle class="slide-info--text"><span>Bonnefoy, Françoise [ed]</span></div>
							<div data-description class="slide-info--text"><span>Bonnefoy, Françoise [ed]. <i>Tàpies.</i> 1994.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 15 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Los 80. El Rock en la calle</span></div>
							<div data-subtitle class="slide-info--text"><span>Di Meglio, Gabriel.</span></div>
							<div data-description class="slide-info--text"><span>Di Meglio, Gabriel. <i>Los 80. El Rock en la calle.</i> 2022.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 16 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Apologético en favor de Clorinda Matto de Turner</span></div>
							<div data-subtitle class="slide-info--text"><span>Gutiérrez Samanez, Julio Antonio [Compilación, ensayos y notas]</span></div>
							<div data-description class="slide-info--text"><span>Gutiérrez Samanez, Julio Antonio [Compilación, ensayos y notas]. <i>Apologético en favor de Clorinda Matto de Turner.</i> 2018.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 17 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Sesenta años de arte en el Qosqo (1927-1988). Ensayos, artículos y comentarios</span></div>
							<div data-subtitle class="slide-info--text"><span>Gutiérrez Loayza, Julio Genaro.</span></div>
							<div data-description class="slide-info--text"><span>Gutiérrez Loayza, Julio Genaro. <i>Sesenta años de arte en el Qosqo (1927-1988). Ensayos, artículos y comentarios.</i> 2022.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 18 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Artists of the Ateneum - Helene Schjerfbeck</span></div>
							<div data-subtitle class="slide-info--text"><span>Holger, Lena.</span></div>
							<div data-description class="slide-info--text"><span>Holger, Lena. <i>Artists of the Ateneum - Helene Schjerfbeck.</i> 2019.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 19 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>El arte del retorno. Retroalimentación artística e historia cultural en el ámbito atlántico (siglo XVI - XIX)</span></div>
							<div data-subtitle class="slide-info--text"><span>Marrero, Antonio.</span></div>
							<div data-description class="slide-info--text"><span>Marrero, Antonio. <i>El arte del retorno. Retroalimentación artística e historia cultural en el ámbito atlántico (siglo XVI - XIX).</i> 2021.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 20 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Tejer República: Historia, memorias y visualidades a 200 años de la Batalla de Pichincha</span></div>
							<div data-subtitle class="slide-info--text"><span>Velasco Herrera, Viviana [Coord]</span></div>
							<div data-description class="slide-info--text"><span>Velasco Herrera, Viviana [Coord]. <i>Tejer República: Historia, memorias y visualidades a 200 años de la Batalla de Pichincha.</i> 2022.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 21 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Santiago Yahuarcani</span></div>
							<div data-subtitle class="slide-info--text"><span>López, Miguel A.</span></div>
							<div data-description class="slide-info--text"><span>López, Miguel A. <i>Santiago Yahuarcani.</i> 2023.</span></div>
						</div>
					</div>
				</div>
				<!-- Info 22 -->
				<div class="slide-info">
					<div class="slide-info__inner">
						<div class="slide-info--text__wrapper">
							<div data-title class="slide-info--text"><span>Woven by the Grandmothers: Nineteenth-Century Navajo Textiles from the National Museum of the American Indian</span></div>
							<div data-subtitle class="slide-info--text"><span>Bonar, Eulalie H.</span></div>
							<div data-description class="slide-info--text"><span>Bonar, Eulalie H. <i>Woven by the Grandmothers: Nineteenth-Century Navajo Textiles from the National Museum of the American Indian.</i> 1996.</span></div>
						</div>
					</div>
				</div>
			</div> <!-- Fin del contenedor -->
		</div>
		<button class="slider--btn slider--btn__next">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
				<path d="m9 18 6-6-6-6" />
			</svg>
		</button>
	</div>

	<div class="footer-links">
		<p>
			Para ver los registros de la Hemeroteca puede hacer clic
			<a href="https://mali.pe/cgi-bin/koha/opac-search.pl?advsearch=1&amp;idx=kw&amp;idx=kw&amp;idx=kw&amp;do=Buscar&amp;limit=mc-itype%2Cphr%3AREVISTA&amp;sort_by=relevance">aquí</a>.
		</p>
		<p>
			Para ver los registros de la Documentación de Arte Peruano puede hacer clic
			<a href="https://mali.pe/cgi-bin/koha/opac-search.pl?advsearch=1&amp;idx=kw&amp;idx=kw&amp;idx=kw&amp;do=Buscar&amp;limit=mc-itype%2Cphr%3AARCHIVO&amp;sort_by=relevance">aquí</a>.
		</p>
	</div>
	<div class="loader">
		<span class="loader__text">0%</span>
	</div>
	
</body>

<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>

<script>
	document.addEventListener("DOMContentLoaded", function () {
		console.log("El DOM está listo");
		console.log(typeof imagesLoaded);
		console.log("%c Powered with ❤️ by: Luis Gustavo O. P.", "color: #00bfff; font-weight: bold; font-size: 14px; font-family: 'Archivo', sans-serif; background-color: #000; padding: 5px; border-radius: 5px;");

		// -------------------------------------------------
		// ------------------ Utilities --------------------
		// -------------------------------------------------

		// Math utilities
		const wrap = (n, max) => (n + max) % max;
		const lerp = (a, b, t) => a + (b - a) * t;

		// DOM utilities
		const isHTMLElement = (el) => el instanceof HTMLElement;

		const genId = (() => {
			let count = 0;
			return () => (count++).toString();
		})();

		class Raf {
			constructor() {
				this.rafId = 0;
				this.raf = this.raf.bind(this);
				this.callbacks = [];
				this.start();
			}

			start() {
				this.raf();
			}

			stop() {
				cancelAnimationFrame(this.rafId);
			}

			raf() {
				this.callbacks.forEach(({ callback, id }) => callback({ id }));
				this.rafId = requestAnimationFrame(this.raf);
			}

			add(callback, id) {
				this.callbacks.push({ callback, id: id || genId() });
			}

			remove(id) {
				this.callbacks = this.callbacks.filter((callback) => callback.id !== id);
			}
		}

		class Vec2 {
			constructor(x = 0, y = 0) {
				this.x = x;
				this.y = y;
			}

			set(x, y) {
				this.x = x;
				this.y = y;
			}

			lerp(v, t) {
				this.x = lerp(this.x, v.x, t);
				this.y = lerp(this.y, v.y, t);
			}
		}

		const vec2 = (x = 0, y = 0) => new Vec2(x, y);

		function tilt(node, options) {
			let { trigger, target } = resolveOptions(node, options);
			let lerpAmount = 0.06;
			const rotDeg = { current: vec2(), target: vec2() };
			const bgPos = { current: vec2(), target: vec2() };

			let rafId;
			function ticker({ id }) {
				rafId = id;
				rotDeg.current.lerp(rotDeg.target, lerpAmount);
				bgPos.current.lerp(bgPos.target, lerpAmount);

				for (const el of target) {
					el.style.setProperty("--rotX", rotDeg.current.y.toFixed(2) + "deg");
					el.style.setProperty("--rotY", rotDeg.current.x.toFixed(2) + "deg");
					el.style.setProperty("--bgPosX", bgPos.current.x.toFixed(2) + "%");
					el.style.setProperty("--bgPosY", bgPos.current.y.toFixed(2) + "%");
				}
			}

			const onMouseMove = ({ offsetX, offsetY }) => {
				lerpAmount = 0.1;
				for (const el of target) {
					const ox = (offsetX - el.clientWidth * 0.5) / (Math.PI * 3);
					const oy = -(offsetY - el.clientHeight * 0.5) / (Math.PI * 4);
					rotDeg.target.set(ox, oy);
					bgPos.target.set(-ox * 0.3, oy * 0.3);
				}
			};

			const onMouseLeave = () => {
				lerpAmount = 0.06;
				rotDeg.target.set(0, 0);
				bgPos.target.set(0, 0);
			};

			const addListeners = () => {
				trigger.addEventListener("mousemove", onMouseMove);
				trigger.addEventListener("mouseleave", onMouseLeave);
			};

			const removeListeners = () => {
				trigger.removeEventListener("mousemove", onMouseMove);
				trigger.removeEventListener("mouseleave", onMouseLeave);
			};

			const initTilt = () => {
				addListeners();
				raf.add(ticker);
			};

			const destroy = () => {
				removeListeners();
				raf.remove(rafId);
			};

			initTilt();
			return { destroy, update: initTilt };
		}

		function resolveOptions(node, options) {
			return {
				trigger: options?.trigger ?? node,
				target: options?.target
					? Array.isArray(options.target)
						? options.target
						: [options.target]
					: [node]
			};
		}

		// -----------------------------------------------------
		// Global Raf Instance
		const raf = new Raf();

		// Variables globales para gestionar los slides
		let currentIndex = 0;
		let allSlides = [];
		let allSlidesInfo = [];
		let allSlideBgs = [];
		let totalSlides = 0;
		let isTransitioning = false;
		let transitionMs = 800; // fallback

		function init() {
			// Capturamos todos los elementos de slide, info y fondo (sin atributos fijos en el HTML)
			allSlides = [...document.querySelectorAll(".slide")];
			allSlidesInfo = [...document.querySelectorAll(".slide-info")];
			allSlideBgs = [...document.querySelectorAll(".slide__bg")];

			// Aseguramos que los tres arrays tengan el mismo tamaño mínimo
			const minLen = Math.min(allSlides.length, allSlidesInfo.length, allSlideBgs.length);
			allSlides = allSlides.slice(0, minLen);
			allSlidesInfo = allSlidesInfo.slice(0, minLen);
			allSlideBgs = allSlideBgs.slice(0, minLen);
			totalSlides = minLen;

			// Leer la duración de transición desde CSS para bloquear correctamente
			const root = document.documentElement;
			const durVar = getComputedStyle(root).getPropertyValue("--slide-transition-duration").trim();
			if (durVar.endsWith("ms")) {
				transitionMs = parseFloat(durVar);
			} else if (durVar.endsWith("s")) {
				transitionMs = parseFloat(durVar) * 1000;
			}
			totalSlides = allSlides.length;

			const loader = document.querySelector(".loader");
			const buttons = {
				prev: document.querySelector(".slider--btn__prev"),
				next: document.querySelector(".slider--btn__next")
			};

			loader.style.opacity = 0;
			loader.style.pointerEvents = "none";

			// Inicializamos tilt para cada slide e info
			allSlides.forEach((slide, i) => {
				const slideInner = slide.querySelector(".slide__inner");
				const slideInfoInner = allSlidesInfo[i].querySelector(".slide-info__inner");
				tilt(slide, { target: [slideInner, slideInfoInner] });
			});

			// Limpiamos cualquier estado previo
			allSlides.forEach((slide) => {
				slide.removeAttribute("data-current");
				slide.removeAttribute("data-next");
				slide.removeAttribute("data-previous");
			});
			allSlidesInfo.forEach((info) => {
				info.removeAttribute("data-current");
				info.removeAttribute("data-next");
				info.removeAttribute("data-previous");
			});
			allSlideBgs.forEach((bg) => {
				bg.removeAttribute("data-current");
				bg.removeAttribute("data-next");
				bg.removeAttribute("data-previous");
			});

			// Asignamos el estado inicial correcto:
			// current: index 0, previous: último slide, next: index 1.
			currentIndex = 0;
			const prevIndex = wrap(currentIndex - 1, totalSlides);
			const nextIndex = wrap(currentIndex + 1, totalSlides);

			allSlides[currentIndex].setAttribute("data-current", "");
			allSlidesInfo[currentIndex].setAttribute("data-current", "");
			allSlideBgs[currentIndex].setAttribute("data-current", "");

			allSlides[prevIndex].setAttribute("data-previous", "");
			allSlidesInfo[prevIndex].setAttribute("data-previous", "");
			allSlideBgs[prevIndex].setAttribute("data-previous", "");

			allSlides[nextIndex].setAttribute("data-next", "");
			allSlidesInfo[nextIndex].setAttribute("data-next", "");
			allSlideBgs[nextIndex].setAttribute("data-next", "");

			// Asignamos los eventos a los botones
			buttons.prev.addEventListener("click", change(-1));
			buttons.next.addEventListener("click", change(1));

			// --- AUTO-PLAY CADA 5 SEGUNDOS ---
			const autoNext = change(1);
			setInterval(() => {
				autoNext();
			}, 5000);
		}

		function setup() {
			const loaderText = document.querySelector(".loader__text");
			const images = [...document.querySelectorAll("img")];
			const totalImages = images.length;
			let loadedImages = 0;
			let progress = { current: 0, target: 0 };

			images.forEach((image) => {
				imagesLoaded(image, (instance) => {
					if (instance.isComplete) {
						loadedImages++;
						progress.target = loadedImages / totalImages;
					}
				});
			});

			raf.add(({ id }) => {
				progress.current = lerp(progress.current, progress.target, 0.06);
				const progressPercent = Math.round(progress.current * 100);
				loaderText.textContent = `${progressPercent}%`;
				if (progressPercent === 100) {
					init();
					raf.remove(id);
				}
			});
		}

		function change(direction) {
			return () => {
				if (isTransitioning || totalSlides < 2) return;
				isTransitioning = true;

				// Índices actuales
				const oldCurr = currentIndex;
				const oldPrev = wrap(oldCurr - 1, totalSlides);
				const oldNext = wrap(oldCurr + 1, totalSlides);

				// Nuevos índices según dirección
				let newCurr, newPrev, newNext;
				if (direction > 0) {
					newCurr = oldNext;
					newPrev = oldCurr;
					newNext = wrap(oldNext + 1, totalSlides);
				} else {
					newCurr = oldPrev;
					newNext = oldCurr;
					newPrev = wrap(oldPrev - 1, totalSlides);
				}

				// Helper para limpiar atributos de un índice específico
				const clearAt = (i) => {
					allSlides[i].removeAttribute("data-current");
					allSlides[i].removeAttribute("data-next");
					allSlides[i].removeAttribute("data-previous");
					allSlidesInfo[i].removeAttribute("data-current");
					allSlidesInfo[i].removeAttribute("data-next");
					allSlidesInfo[i].removeAttribute("data-previous");
					allSlideBgs[i].removeAttribute("data-current");
					allSlideBgs[i].removeAttribute("data-next");
					allSlideBgs[i].removeAttribute("data-previous");
				};

				// Limpiar solamente los implicados en el cambio
				clearAt(oldPrev);
				clearAt(oldCurr);
				clearAt(oldNext);
				// También limpiar el nuevo próximo (antes era neutral)
				clearAt(newNext);

				// Asignar roles nuevos de forma atómica (mismo ciclo de render)
				const setRole = (i, role) => {
					allSlides[i].setAttribute(role, "");
					allSlidesInfo[i].setAttribute(role, "");
					allSlideBgs[i].setAttribute(role, "");
				};

				setRole(newCurr, "data-current");
				setRole(newPrev, "data-previous");
				setRole(newNext, "data-next");

				currentIndex = newCurr;

				// Desbloquear tras finalizar la transición
				setTimeout(() => {
					isTransitioning = false;
				}, transitionMs + 50);
			};
		}

		// Iniciamos el setup para cargar las imágenes y luego inicializar el slider
		setup();
	});
</script>


</html>

